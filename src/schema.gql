# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type Role {
  _id: String!
  name: String!
  label: String!
  initialView: String!
}

type User {
  _id: String!
  rut: String!
  email: String!
  name: String!
  password: String!
  isActive: Boolean!
  role: String!
  isSystemAdmin: Boolean!
  signature: String
}

type View {
  _id: String!
  name: String!
  label: String!
  icon: String!
  children: [View!]!
}

type Loads {
  type: String!
  amount: Float!
}

type Billing {
  name: String!
  rut: String!
  category: String!
  address: String!
  phone: String!
  loads: [Loads!]!
}

type Client {
  _id: String!
  name: String!
  paymentCondition: String!
  receivers: [String!]!
  billing: Billing!
}

type Machinery {
  _id: String!
  type: AllowedMachineryType!
  name: String!
  code: String!
  brand: String!
  model: String!
  patent: String!
  year: Float!
  volume: Float
  maintenanceClass: MaintenanceMachineryClass
}

enum AllowedMachineryType {
  TRUCK
  PICKUP
  OTHER
}

enum MaintenanceMachineryClass {
  CLASS_A
  CLASS_B
}

type BookingReceiver {
  editable: Boolean!
  email: String!
}

type Booking {
  _id: String!
  type: AllowedBookingType!
  constructionManager: String
  machineryType: AllowedMachineryType!
  client: String!
  equipment: String!
  operator: String!
  minHours: Float
  amountPerHour: Float
  workCondition: AllowedWorkCondition
  company: String
  building: String!
  startDate: DateTime!
  endDate: DateTime!
  address: String!
  receivers: [BookingReceiver!]!
}

enum AllowedBookingType {
  INTERNAL
  EXTERNAL
}

enum AllowedWorkCondition {
  TRAVEL
  DAY
  BOTH
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type Query {
  getRecoverCode(form: RecoverCodeInput!): RecoverCodeResultUnion!
  getAllUsers: [User!]!
  getAllUsersWithRoleName(role: String!): [User!]!
  getAllRoles: [Role!]!
  getAllClients: [Client!]!
  getAllEquipments: [Machinery!]!
  getAllBookings: [Booking!]!
}

union RecoverCodeResultUnion = Ok | UserNotFound | InactiveUser

type Ok {
  message: String
}

type UserNotFound {
  message: String!
}

type InactiveUser {
  rut: String!
}

input RecoverCodeInput {
  rut: String!
}

type Mutation {
  changePasswordWithAuthCode(form: NewPasswordInput!): ChangePasswordResultUnion!
  createUser(form: UserInput!): CreateUserResultUnion!
  updateUser(form: UpdateUserInput!): UpdateUserResultUnion!
  deleteUser(form: DeleteUserInput!): DeleteUserResultUnion!
  createClient(form: ClientInput!): CreateClientResultUnion!
  updateClient(form: UpdateClientInput!): UpdateClientResultUnion!
  deleteClient(form: DeleteClientInput!): DeleteClientResultUnion!
  createEquipment(form: EquipmentInput!): CreateEquipmentResultUnion!
  updateEquipment(form: UpdateEquipmentInput!): UpdateEquipmentResultUnion!
  deleteEquipment(form: DeleteEquipmentInput!): DeleteEquipmentResultUnion!
  createBooking(form: BookingInput!): CreateBookingResultUnion!
  updateBooking(form: UpdateBookingInput!): UpdateBookingResultUnion!
  deleteBooking(form: DeleteBookingInput!): DeleteBookingResultUnion!
}

union ChangePasswordResultUnion = Ok | UserNotFound | InactiveUser | TokenNotFound | WrongChangePasswordCode

type TokenNotFound {
  message: String!
}

type WrongChangePasswordCode {
  message: String!
}

input NewPasswordInput {
  rut: String!
  password: String!
  confirmPassword: String!
  code: String!
}

union CreateUserResultUnion = Ok | UserAlreadyExists

type UserAlreadyExists {
  rut: String!
}

input UserInput {
  _id: String
  rut: String!
  email: String!
  name: String!
  role: String!
  signature: String
}

union UpdateUserResultUnion = Ok | UserNotFound | ImmutableUser

type ImmutableUser {
  _id: String!
  rut: String!
}

input UpdateUserInput {
  _id: String!
  rut: String!
  email: String!
  name: String!
  role: String!
  signature: String
}

union DeleteUserResultUnion = Ok | UserNotFound | ImmutableUser

input DeleteUserInput {
  _id: String!
}

union CreateClientResultUnion = Ok

input ClientInput {
  _id: String
  name: String!
  paymentCondition: String!
  receivers: [String!]!
  billing: BillingInput!
}

input BillingInput {
  name: String!
  rut: String!
  category: String!
  address: String!
  phone: String!
  loads: [LoadsInput!]!
}

input LoadsInput {
  type: String!
  amount: Float!
}

union UpdateClientResultUnion = Ok | ClientNotFound

type ClientNotFound {
  message: String!
}

input UpdateClientInput {
  _id: String!
  name: String!
  paymentCondition: String!
  receivers: [String!]!
  billing: BillingInput!
}

union DeleteClientResultUnion = Ok | ClientNotFound

input DeleteClientInput {
  _id: String!
}

union CreateEquipmentResultUnion = Ok | CodeAlreadyExists | PatentAlreadyExists

type CodeAlreadyExists {
  code: String!
}

type PatentAlreadyExists {
  patent: String!
}

input EquipmentInput {
  _id: String
  type: AllowedMachineryType!
  name: String!
  code: String!
  brand: String!
  model: String!
  patent: String!
  year: Float!
  volume: Float
  maintenanceClass: MaintenanceMachineryClass
}

union UpdateEquipmentResultUnion = Ok | EquipmentNotFound | CodeAlreadyExists | PatentAlreadyExists

type EquipmentNotFound {
  message: String!
}

input UpdateEquipmentInput {
  _id: String!
  type: AllowedMachineryType!
  name: String!
  code: String!
  brand: String!
  model: String!
  patent: String!
  year: Float!
  volume: Float
  maintenanceClass: MaintenanceMachineryClass
}

union DeleteEquipmentResultUnion = Ok | EquipmentNotFound

input DeleteEquipmentInput {
  _id: String!
}

union CreateBookingResultUnion = Ok

input BookingInput {
  _id: String
  type: AllowedBookingType!
  constructionManager: String
  machineryType: AllowedMachineryType!
  client: String!
  equipment: String!
  operator: String!
  minHours: Float
  amountPerHour: Float
  workCondition: AllowedWorkCondition
  company: String
  building: String!
  startDate: DateTime!
  endDate: DateTime!
  address: String!
  receivers: [BookingReceiverInput!]!
}

input BookingReceiverInput {
  editable: Boolean!
  email: String!
}

union UpdateBookingResultUnion = Ok | BookingNotFound

type BookingNotFound {
  message: String!
}

input UpdateBookingInput {
  _id: String!
  type: AllowedBookingType!
  constructionManager: String
  machineryType: AllowedMachineryType!
  client: String!
  equipment: String!
  operator: String!
  minHours: Float
  amountPerHour: Float
  workCondition: AllowedWorkCondition
  company: String
  building: String!
  startDate: DateTime!
  endDate: DateTime!
  address: String!
  receivers: [BookingReceiverInput!]!
}

union DeleteBookingResultUnion = Ok | BookingNotFound

input DeleteBookingInput {
  _id: String!
}
